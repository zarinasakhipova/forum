# üóÇÔ∏è –§–æ—Ä—É–º

## üìå –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç ‚Äî –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –≤–µ–±-—Ñ–æ—Ä—É–º –Ω–∞ Go. –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –±–∞–∑–µ SQLite. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è, –≤—Ö–æ–¥–∏—Ç—å, —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ—Å—Ç—ã –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, —Å—Ç–∞–≤–∏—Ç—å –ª–∞–π–∫–∏/–¥–∏–∑–ª–∞–π–∫–∏, —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–æ–≤–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é Docker.

---

## üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç             | –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ |
|----------------------|-------------|
| **–û–±—â–µ–Ω–∏–µ**          | –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ—Å—Ç—ã –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ |
| **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏**        | –ö–∞–∂–¥—ã–π –ø–æ—Å—Ç –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –æ–¥–Ω—É –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π |
| **–õ–∞–π–∫–∏ / –î–∏–∑–ª–∞–π–∫–∏** | –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –∑–∞ –ø–æ—Å—Ç—ã –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (+1 / -1), –≤–∏–¥–Ω–æ –≤—Å–µ–º |
| **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**       | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º, –º–æ–∏–º –ø–æ—Å—Ç–∞–º –∏ –ø–æ–Ω—Ä–∞–≤–∏–≤—à–∏–º—Å—è |
| **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**   | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥ —Å –ø–æ–º–æ—â—å—é cookie –∏ UUID, —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è —á–µ—Ä–µ–∑ bcrypt |
| **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**      | SQLite —Å –∑–∞–ø—Ä–æ—Å–∞–º–∏ CREATE, INSERT, SELECT |
| **Docker**           | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è, –ø—Ä–æ—Å—Ç–æ–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker |
| **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** | –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ HTTP-—Å—Ç–∞—Ç—É—Å–æ–≤ –∏ –æ—à–∏–±–æ–∫ |
| **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**     | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ unit-—Ç–µ—Å—Ç–æ–≤ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) |

---

## üì° HTTP-—Å—Ç–∞—Ç—É—Å—ã

| –°—Ç–∞—Ç—É—Å | –ì–¥–µ –≤ –∫–æ–¥–µ                | –ö–æ–≥–¥–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç                                      |
|--------|---------------------------|--------------------------------------------------------|
| `200 OK` | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Go         | –û—Ç–¥–∞—á–∞ HTML-—Å—Ç—Ä–∞–Ω–∏—Ü (`/posts`, —Ñ–æ—Ä–º—ã, —Å—Ç–∞—Ç–∏–∫–∞)         |
| `303 See Other` | `http.Redirect(..., 303)` | POST/PUT ‚Üí GET (–ª–æ–≥–∏–Ω, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, CRUD-—Ñ–æ—Ä–º—ã) |
| `400 Bad Request` | `http.Error(..., 400)` | –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã (–ø—É—Å—Ç—ã–µ –ø–æ–ª—è, –ø–ª–æ—Ö–æ–π ID)    |
| `401 Unauthorized` | `http.Error(..., 401)` | –ù–µ–≤–µ—Ä–Ω—ã–π email/–ø–∞—Ä–æ–ª—å –ø—Ä–∏ –≤—Ö–æ–¥–µ                       |
| `403 Forbidden` | `http.Error(..., 403)` | –ü–æ–ø—ã—Ç–∫–∞ —É–¥–∞–ª–∏—Ç—å —á—É–∂–æ–π –ø–æ—Å—Ç/–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                |
| `404 Not Found` | –∫–æ—Ä–µ–Ω—å `/` –µ—Å–ª–∏ –ø—É—Ç—å ‚â† `/posts` | –ó–∞–ø—Ä–æ—à–µ–Ω –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π URL                  |
| `409 Conflict` | —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è           | Email/username —É–∂–µ –∑–∞–Ω—è—Ç                              |
| `500 Internal Server Error` | `http.Error(..., 500)` | –û—à–∏–±–∫–∏ –ë–î, –ø–∞—Ä—Å–∏–Ω–≥ —à–∞–±–ª–æ–Ω–æ–≤, –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ |

---

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
forum/
‚îú‚îÄ‚îÄ cmd/                    # main.go
‚îú‚îÄ‚îÄ database/               # –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å SQLite
‚îú‚îÄ‚îÄ handlers/               # HTTP-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îú‚îÄ‚îÄ static/                 # —Å—Ç–∏–ª–∏, –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∏ —Ç.–¥.
‚îú‚îÄ‚îÄ templates/              # HTML-—à–∞–±–ª–æ–Ω—ã
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ go.mod
‚îú‚îÄ‚îÄ go.sum
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ README_RUS.md
‚îî‚îÄ‚îÄ forum.db
```

## üóÑÔ∏è –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```sql
CREATE TABLE users (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  email TEXT UNIQUE NOT NULL,
  username TEXT NOT NULL,
  password TEXT NOT NULL
);

CREATE TABLE sessions (
  id TEXT PRIMARY KEY,
  user_id INTEGER NOT NULL,
  expiry DATETIME NOT NULL,
  FOREIGN KEY(user_id) REFERENCES users(id) ON DELETE CASCADE
);

CREATE TABLE categories (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT UNIQUE NOT NULL
);

CREATE TABLE posts (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER NOT NULL,
  title TEXT NOT NULL,
  content TEXT NOT NULL,
  image_path TEXT,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY(user_id) REFERENCES users(id) ON DELETE CASCADE
);

CREATE TABLE post_categories (
  post_id INTEGER NOT NULL,
  category_id INTEGER NOT NULL,
  PRIMARY KEY (post_id, category_id),
  FOREIGN KEY(post_id) REFERENCES posts(id) ON DELETE CASCADE,
  FOREIGN KEY(category_id) REFERENCES categories(id) ON DELETE CASCADE
);

CREATE TABLE comments (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER NOT NULL,
  post_id INTEGER NOT NULL,
  content TEXT NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY(user_id) REFERENCES users(id) ON DELETE CASCADE,
  FOREIGN KEY(post_id) REFERENCES posts(id) ON DELETE CASCADE
);

CREATE TABLE likes (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER NOT NULL,
  post_id INTEGER,
  comment_id INTEGER,
  is_like BOOLEAN NOT NULL,
  UNIQUE(user_id, post_id, comment_id),
  FOREIGN KEY(user_id) REFERENCES users(id) ON DELETE CASCADE,
  FOREIGN KEY(post_id) REFERENCES posts(id) ON DELETE CASCADE,
  FOREIGN KEY(comment_id) REFERENCES comments(id) ON DELETE CASCADE
);
```

---

## –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

- **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:**
  - –¢—Ä–µ–±—É—é—Ç—Å—è email, username, –ø–∞—Ä–æ–ª—å.
  - Email –∏ username –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã.
  - –ü–∞—Ä–æ–ª—å —Ö–µ—à–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ bcrypt.
- **–í—Ö–æ–¥:**
  - –¢—Ä–µ–±—É—é—Ç—Å—è email –∏ –ø–∞—Ä–æ–ª—å.
  - –ü—Ä–∏ —É—Å–ø–µ—Ö–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å–µ—Å—Å–∏—è (UUID), —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è cookie —Å –∏—Å—Ç–µ—á–µ–Ω–∏–µ–º.
  - –¢–æ–ª—å–∫–æ –æ–¥–Ω–∞ –∞–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Å—Å–∏—è –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- **–ü–æ—Å—Ç—ã –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:**
  - –¢–æ–ª—å–∫–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å.
  - –î–ª—è –ø–æ—Å—Ç–æ–≤ –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.
  - –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–≤–∫–ª—é—á–∞—è –≥–æ—Å—Ç–µ–π) –º–æ–≥—É—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –ø–æ—Å—Ç—ã –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏.
- **–õ–∞–π–∫–∏/–¥–∏–∑–ª–∞–π–∫–∏:**
  - –¢–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å.
  - –û–¥–∏–Ω –≥–æ–ª–æ—Å –Ω–∞ –æ–±—ä–µ–∫—Ç –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å).
  - –í—Å–µ –≤–∏–¥—è—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∞–π–∫–æ–≤/–¥–∏–∑–ª–∞–π–∫–æ–≤.
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:**
  - –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (–≤—Å–µ)
  - –ü–æ –º–æ–∏–º –ø–æ—Å—Ç–∞–º (—Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ)
  - –ü–æ –ø–æ–Ω—Ä–∞–≤–∏–≤—à–∏–º—Å—è –ø–æ—Å—Ç–∞–º (—Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ)

---

## –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
go run ./cmd/main.go
```

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
http://localhost:8080
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
chmod +x build.sh
./build.sh
```
- –°–æ–±–∏—Ä–∞–µ—Ç Docker-–æ–±—Ä–∞–∑, —É–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∑–∞–ø—É—Å–∫–∞–µ—Ç –Ω–æ–≤—ã–π.
- –§–æ—Ä—É–º –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8080

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker
```bash
docker build -t forum .
docker run -d -p 8080:8080 --name forum forum
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```bash
docker stop forum
docker rm forum
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏ –æ–±—Ä–∞–∑–æ–≤
```bash
docker ps -a
docker images
```

---

## ‚öôÔ∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ .dockerignore
- `.dockerignore` –∏—Å–∫–ª—é—á–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ, IDE –∏ git-—Ñ–∞–π–ª—ã –∏–∑ Docker-–æ–±—Ä–∞–∑–∞.
- –ß—Ç–æ–±—ã —Ö—Ä–∞–Ω–∏—Ç—å –±–∞–∑—É –≤–Ω–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ `forum.db` –≤ `.dockerignore` –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ volume.

---

### –ü—Ä–∏–º–µ—Ä docker-compose.yaml
```yaml
version: "3.9"
services:
  forum:
    build: .
    ports:
      - "8080:8080"
    volumes:
      - .:/app
    environment:
      DB_PATH: /app/data/forum.db
```

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Go 1.22+
- SQLite (`github.com/mattn/go-sqlite3`)
- bcrypt (`golang.org/x/crypto/bcrypt`)
- UUID (`github.com/google/uuid`)
- HTML + CSS (–±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤)
- Docker

---

–ê–≤—Ç–æ—Ä:
- Zarina Sakhipova @zsakhipo